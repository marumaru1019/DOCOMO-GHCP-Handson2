
---

title: ② インラインチャット
categories: [技術者向け, GitHub Copilot 基本]
weight: 2
---

**インラインチャット**は、今開いている場所（エディタ／統合ターミナル）でそのまま Copilot に指示できる機能。ウィンドウ移動なしで**説明・修正・生成**を回せるので、軽微なリファクタやエラー解析に最適。

---
## :pen: 例題1. エディタのインラインチャット

**呼び出し方**

* **Mac:** `⌘ I` / **Windows・Linux:** `Ctrl I`（インラインチャット開始）

**前提コード（この関数本体を選択して開始）**

```javascript
function withTax(price) {
    return Math.floor(price * 1.10);
}
```

**プロンプト例（選択したまま）**

```text
端数処理を「四捨五入」に変更し、0円や負の値などの境界値テストも提案して。
```

## :robot: 出力例

```javascript
function withTax(price) {
  // 税率10%を適用し、四捨五入して税込価格を返す
  return Math.round(price * 1.10);
}

// 以下は境界値テストの例です

console.log("withTax(0):", withTax(0));         // 0円の場合: 0
console.log("withTax(-100):", withTax(-100));     // 負の値の場合: Math.round(-110) = -110
console.log("withTax(95):", withTax(95));         // 例: Math.round(104.5) = 105
console.log("withTax(100):", withTax(100));       // 例: Math.round(110) = 110

```

![インラインチャットの例](../images/inlinechat-file.png)

**操作の流れ**

1. 変更差分を確認 → **受け入れる** / **破棄** を選択
2. 続けて「負の値は例外にして」と追記し、差分で再提案→確定

> 💡 **Tips**: 意図に沿った出力をしない場合はモデルを変更することでより良い結果が変えることがあります。
---

## :pen: 例題2. ターミナルのインラインチャット

**呼び出し方**

* 統合ターミナルを開く → **Mac:** `⌘ I` / **Windows・Linux:** `Ctrl I`

**状況（コマンドの実行方法を知りたい）**

あるディレクトリ内の特定の拡張子のファイルを検索したいが、コマンドがわからない。

**プロンプト例**

```text
カレントディレクトリ以下の .js ファイルをすべて検索するコマンドを教えて
```

## :robot: 出力例

```bash
find . -type f -name "*.js"
```

![ターミナルインラインチャットの例](../images/inlinechat-terminal.png)


**操作の流れ**

1. 提案コマンドをそのまま**挿入→実行**
2. 結果を確認して、続けて「ファイルサイズも一緒に表示して」と追質問
3. 返ってきた提案（例: `find . -name "*.js" -exec ls -lh {} \;` など）を確認して採用する

---

## :memo: 練習

**課題**：次の関数を選択し、**例外安全**・**境界値**・**入力検証**を満たすように修正案をもらって適用してください。

```javascript
function normalizeEmail(s) {
    return s.trim().toLowerCase();
}
```

（追加で「無効な形式なら例外」「Unicode 正規化」なども指示して品質を上げる）

---

## まとめ（使い分け・判断基準）

* **エディタのインライン**：選択範囲の**局所変更・説明・生成**に最適（差分を目で確認→確定）。
* **ターミナルのインライン**：**失敗コマンドの原因究明と修正**を、その場で反復できる。

