---
title: ③コードからコメントの自動生成
categories: [技術者向け, GitHub Copilot 基本]
weight: 3
---

GitHub Copilot は、**既存のコードに自動でコメントを生成**してくれる機能を持っています。複雑なアルゴリズムでなくても、ちょっとしたロジックの説明不足を補うのに便利です。ここでは、例として「階乗 (factorial)」を用いたコードを使い、コメントを補ってもらう流れを見てみましょう。

---

## 1. コメントなしのコードを用意する

### :pen: 例題 – 階乗 (factorial) のメソッド

まずは、Java で**コメントのない**`factorial`メソッドを用意します。

```java
public class FactorialExample {
    public static int factorial(int n) {
        if (n <= 1) {
            return 1;
        }
        return n * factorial(n - 1);
    }
}
```

このコードには何の説明も書かれていません。

---

## 2. Copilot にコメントを付けさせる

1. **先頭にコメント生成の指示を書く**  
   たとえば以下のように、一行コメントで「このメソッドを説明してほしい」と促してみましょう。

   ```java
   // このメソッドの処理内容を日本語で説明するコメントを追加してください

   public class FactorialExample {
       public static int factorial(int n) {
           if (n <= 1) {
               return 1;
           }
           return n * factorial(n - 1);
       }
   }
   ```

2. **Copilot が推測してコメントを提案**  
   数秒待つと、`factorial`メソッド上部や行間に、簡単な説明文を補ってくれるはずです。  
   - 例: 「`// factorialメソッド: nが1以下なら1、それ以外は再帰で階乗を計算する`」など

---

## :robot: 出力例

Copilot が生成するコメントの一例（イメージ）は以下のようなものになるかもしれません。

```java
// このメソッドの処理内容を日本語で説明するコメントを追加してください
// このメソッドは、再帰的に階乗を計算するメソッドです。
// 階乗とは、n! = n * (n-1) * (n-2) * ... * 1 のように、nから1までの整数を掛け合わせた値を表します。
// このメソッドは、nが1以下の場合は1を返し、それ以外の場合はn * factorial(n - 1)を返します。
// この再帰的な処理により、nから1までの整数を掛け合わせた値を求めることができます。

public class FactorialExample {
    public static int factorial(int n) {
        if (n <= 1) {
            return 1;
        }
        return n * factorial(n - 1);
    }
}
```

もちろん、Copilot の提案内容はバージョンや文脈によって変わるため、実際に出力されるコメントは異なる場合があります。

---

## 3. 練習

- **別のコメント形式**  
  たとえば複数行コメント (`/* ... */`) で「このメソッドの入出力やアルゴリズムを詳しく説明して」と促す  
- **コメントの表現を変える**  
  「初学者向けの言葉で」「英語で」「ビジネス文書っぽく」など、指示を変えてCopilotの出力を比べてみる  

---

## まとめ

- **コードからコメントの自動生成**機能は、既存のロジックの説明不足を手軽に補うのに役立つ  
