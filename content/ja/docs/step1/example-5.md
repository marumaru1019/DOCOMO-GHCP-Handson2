---
title: ⑤ショートカットコマンドの活用
categories: [技術者向け, GitHub Copilot 応用]
weight: 5
---

Copilot Chat には、**「チャット参加者 (Chat Participants)」「スラッシュコマンド」「チャット変数」**の3つの仕組みがあります。  
これらを使うと、コード修正・ドキュメント追加・テスト生成などを一気に指示でき、大幅な効率化が見込めます。  
ここでは、それぞれ**簡単な説明 → 一覧表 → 使い方の例**の流れで紹介します。

---

## 1. チャット参加者 (Chat Participants)

### 1-1. チャット参加者とは
- チャットの先頭に **`@workspace`** や **`@terminal`** などを付けることで、Copilot に「**このドメインの情報を優先してほしい**」と伝える仕組み。  
- より正確な回答や提案を得るためのヒントとして、プロジェクトの範囲、ターミナルコマンド、VSCode設定などを指定可能。

### 1-2. 一覧表

| **Participant** | **Description**                                                      | **Example**                                                 |
|:--------------:|:--------------------------------------------------------------------|:------------------------------------------------------------|
| **@workspace** | ワークスペース全体の構造・コードの依存関係を理解                    | `@workspace プロジェクトのメインファイルを教えて。`          |
| **@terminal**  | ターミナルの操作や出力を考慮                                          | `@terminal ls -la の結果が示す内容は？`                      |
| **@vscode**    | Visual Studio Code の設定・コマンドに関する知識                      | `@vscode フォントサイズを14に変更するには？`                |
| **@azure**     | Azure サービスに関する知識 (プレビュー機能)                           | `@azure このアプリをAzure Functionsへデプロイする最適な方法` |
| **@github**    | GitHub リポジトリ・Issue・Pull Request などに関する知識              | `@github このコミットをrevertする手順を教えて。`             |

### 1-3. 使い方の例

- **@workspace**  
  ```plaintext
  @workspace このフォルダの構成を教えて。各ファイルの役割も知りたい。
  ```
  → Copilot がワークスペース内のファイルや依存関係を俯瞰し、概要を回答。  

- **@terminal**  
  ```plaintext
  @terminal ping google.com の実行結果がこうなったのですが何がわかりますか？
  ```
  → ターミナルコマンドの出力を解析し、ネットワーク情報などを解説。  

> **ポイント**  
> - 明示的に `@workspace` を書かなくてもCopilotが自動推測する場合もあるが、指定するほうが正確。  

---

## 2. スラッシュコマンド (Slash Commands)

### 2-1. スラッシュコマンドとは
- チャット欄で「`/`」を入力すると表示される、**よく使う操作**のショートカット。  
- 例: `/fix` (選択コードを修正), `/tests` (テスト生成), `/explain` (コードを説明) など。  
- **`/help`** を入力すれば、使えるコマンド一覧がいつでも確認可能。

### 2-2. 一覧表

| **Command**       | **Description**                                                    | **Example**                                           |
|:-----------------:|:------------------------------------------------------------------|:------------------------------------------------------|
| **/fix**          | 選択中のコードに対し、修正・リファクタの提案                     | `/fix 変数xをリスト化して重複を除去して`              |
| **/doc**          | ドキュメンテーションコメントの追加 (関数の概要・引数など)         | `/doc これを日本語で書いて`                          |
| **/tests**        | テストコードを生成                                                | `/tests 複数のテストパターンが欲しい`                |
| **/explain**      | 選択したコードの動作を解説                                        | `/explain これが何をしているか知りたい`              |
| **/new**          | 新規ファイル/コードを生成                                         | `/new PythonでWebサーバのサンプルを作って`           |
| **/newChat**      | チャットを再スタート (会話履歴リセット)                           | `/newChat`                                           |
| **/help**         | スラッシュコマンドの一覧や使い方を表示                            | `/help`                                              |
| **/api**          | VSCode拡張のAPIに関する質問を行う                                 | `/api 拡張機能のマニフェスト構造は？`                |
| **/newNotebook**  | Jupyter Notebook を新規作成 (Notebook利用者向け)                | `/newNotebook 簡単なAIデモ用ノートブックを生成して`   |

### 2-3. 使い方の例
- **/fix**  
  ```plaintext
  /fix コードが複雑なので短くして
  ```
  → Copilot が不要変数や冗長な処理を削減する修正案を提示

- **/tests**  
  ```plaintext
  /tests この関数に対するユニットテストを3ケース書いて
  ```
  → テスト用ファイルやメソッドを生成

- **/help**  
  ```plaintext
  /help
  ```
  → スラッシュコマンドの一覧が表示される（現在のバージョンで使えるコマンドがわかる）

> **ポイント**  
> - エディタでコードを**選択**してから `/fix` や `/tests` を実行すると、その行だけに適用できる。  

---

## 3. チャット変数 (Context Variables)

### 3-1. チャット変数とは
- 「`#`」を入力すると、**ファイルや選択範囲、ターミナル出力**などを文脈に注入できる仕組み。  
- 例えば `#file:App.js` としてから「どのコンポーネントがある？」と質問すれば、そのファイルを優先的に解析。

### 3-2. 一覧表

| **Variable**         | **Description**                                               | **Example**                                                  |
|:--------------------:|:-------------------------------------------------------------|:-------------------------------------------------------------|
| **#selection**       | エディタで選択したコードブロックのみ                         | `#selection これを最適化してほしい`                           |
| **#terminalSelection** | ターミナル上で選択したテキスト (エラー等)                 | `#terminalSelection このエラーの原因を教えて`                 |
| **#file**            | 任意ファイルをコンテキストに追加                             | `#file:UserService.java ユーザー関連の処理を解説して`         |
| **#codebase**        | プロジェクト全体のソースコードを解析対象に                  | `#codebase Fooメソッドが呼ばれている箇所をすべて一覧で`        |
| **#terminalLastCommand** | ターミナルで直前に実行したコマンド                        | `#terminalLastCommand これが失敗した理由は？`                |

### 3-3. 使い方の例
- **#selection**  
  ```plaintext
  #selection 
  /explain
  ```
  → 選択部分のコードを説明  
- **#file**  
  ```plaintext
  #file:MainController.java 
  /doc 
  ```
  → `MainController.java` ファイルにドキュメントコメントを付ける提案を生成

> **ポイント**  
> - 大きいファイルは要約される可能性があるので、必要に応じて細かく範囲を選ぶ  
> - `#codebase` と `@workspace` を組み合わせるなどの応用も可能

---

## :pen: まとめの使い方例

**例①:チャット参加者 + スラッシュコマンド + チャット変数**  
```plaintext
@workspace #file:App.js /fix
```
- ワークスペース全体を参照しつつ、App.js のコードをターゲットに修正案を提案。

**例②: エディタでコード選択 + インラインチャット + `/tests`**  
- コードブロックを選択 → ショートカット **(Ctrl+Shift+I etc.)** → `#selection /tests`  
→ 選択範囲のテストを生成  

**例③: `/help`**  
- いつでも `/help` でスラッシュコマンドの最新一覧を確認可能

---

## :bulb: ポイント

1. **チャット参加者 (`@xxx`)**  
   - 質問・コマンドを特定ドメインに絞り込み、精度を上げる  
2. **スラッシュコマンド**  
   - `/fix`, `/doc`, `/tests`, `/explain` などで高速操作  
   - **`/help`** でコマンド一覧をいつでもチェック可能  
3. **チャット変数 (`#xxx`)**  
   - 特定のファイルや選択範囲、ターミナル出力を明示し、Copilot に正確な文脈を与える

これらを組み合わせると、**1行で「どこを」「どう修正/解説/生成」するか**を簡潔に伝えられるようになり、開発の効率が格段に高まります。